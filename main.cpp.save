#include <string>
#include <stdexcept>
#include <iostream>

#include "dominios.h"
#include "entidades.h"
#include "interfaces.h"
#include "controladorasApresentacao.h"
#include "controladorasServico.h"
#include "stubs.h"

using namespace std;

int main()
{
   //declaração de ponteiros e instâncias de controladoras
   CntrApresentacaoControle *cntrApresentacaoControle;
   IApresentacaoAutenticacao *cntrApresentacaoAutenticacao;
   IApresentacaoContas *cntrApresentacaoContas;
   IApresentacaoInvestimentos *cntrApresentacaoInvestimentos;

   cntrApresentacaoControle = new CntrApresentacaoControle();
   cntrApresentacaoAutenticacao = new CntrApresentacaoAutenticacao();
   cntrApresentacaoContas = new CntrApresentacaoContas();
   cntrApresentacaoInvestimentos = new CntrApresentacaoInvestimentos();

   //instanciar stubs
   IServicoAutenticacao *cntrServicoAutenticacao;
   IServicoContas *cntrServicoContas;
   IServicoInvestimentos *cntrServicoInvestimentos;

   cntrServicoAutenticacao = new CntrServicoAutenticacao();
   cntrServicoContas = new CntrServicoContas();
   cntrServicoInvestimentos = new CntrServicoInvestimentos();

   //link entre controladoras e stubs (futuramente controladoras de serviços)
   cntrApresentacaoControle->setCntrApresentacaoAutenticacao(cntrApresentacaoAutenticacao);
   cntrApresentacaoControle->setCntrApresentacaoContas(cntrApresentacaoContas);
   cntrApresentacaoControle->setCntrApresentacaoInvestimentos(cntrApresentacaoInvestimentos);

    cntrApresentacaoAutenticacao->setCntrServicoAutenticacao(stubServicoAutenticacao);
    cntrApresentacaoContas->setCntrServicoContas(stubServicoContas);
    cntrApresentacaoInvestimentos->setCntrServicoInvestimentos(cntrServicoInvestimentos);

   //solicitar serviço
   cntrApresentacaoControle->executar();

    return 0;
}
